<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.dianrong.common.uniauth.server.data.mapper.CfgMapper" >
 <!-- 根据code获取有效域名的数量 -->
  <select id="countCfgByCfgKeyWithStatusEffective"  resultType="java.lang.Integer" parameterType="java.lang.String" >
	SELECT  COUNT(id)
	FROM cfg 
	WHERE 
	cfg_key = #{cfgKey, jdbcType=VARCHAR}
  </select>
  
  <!-- 根据keyid查询有效的配置信息 -->
   <select id="selectByIdWithStatusEffective" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    SELECT 
    <include refid="Base_Column_List" />
    FROM cfg
    WHERE id = #{id, jdbcType=INTEGER}
  </select>
</mapper>